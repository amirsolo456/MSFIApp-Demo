<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:control="clr-namespace:MSFIApp.Components.Controls"
             FlowDirection="RightToLeft"
             x:Name="DtInput"
             x:Class="MSFIApp.Components.Controls.DateInput">
    <Grid>
        <control:TextInput
                     VerticalOptions="Fill"
                     Placeholder="تاریخ تولد"
                     NormalBorderColor="Black"                    
                     Opacity="1"
                     InputMode="Numeric"
                     HorizontalOptions="Fill"
                     OnFocused="OnDateEntryClicked"
                     Text="{Binding SelectedDateText, Source={x:Reference DtInput}}">

            <control:TextInput.TrailingContent>
                <Grid
                    MinimumWidthRequest="55"
                    MaximumWidthRequest="55"
                    MaximumHeightRequest="40"
                    HorizontalOptions="Center"
                    VerticalOptions="Fill">

                    <ActivityIndicator x:Name="LoadingIndicator" 
                                       ZIndex="10"
                                       Opacity="1"
                                       IsVisible="False"
                                       IsRunning="True" 
                                       Color="Gray" 
                                       WidthRequest="20" 
                                       HeightRequest="20" 
                                       VerticalOptions="Center" />

                    <ImageButton
                        Source="dateicon.png"
                        VerticalOptions="Center"
                        Clicked="OnDateEntryClicked"/>
                </Grid>
            </control:TextInput.TrailingContent>
        </control:TextInput>

        <!--<Grid.GestureRecognizers>
            <TapGestureRecognizer Tapped="OnDateEntryClicked"/>
        </Grid.GestureRecognizers>-->
    </Grid>
</ContentView>
